---
import { getCollection } from 'astro:content'
import BigOutpostLayout from '../../layouts/BigOutpostLayout.astro'

export async function getStaticPaths() {
  const posts = await getCollection('blog')
  return posts.map(post => ({
    params: { slug: post.slug },
    props: post,
  }))
}

const post = Astro.props
const { Content } = await post.render()
---

<BigOutpostLayout title={post.data.title} description={post.data.description}>
  {post.data.heroImage && <img class='mx-auto' src={post.data.heroImage} alt='' />}
  <article class='mx-auto prose prose-slate prose-md max-w-3xl px-6'>
    <h1 class='mb-1 text-5xl md:text-6xl text-sage font-HighAlpine font-normal'>{post.data.title}</h1>
    <p class='text-gray-500 leading-tight mb-12 font-Inconsolata'>{post.data.description}</p>
    <Content />
  </article>
</BigOutpostLayout>
